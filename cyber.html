<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Detail | Gameplay Programmer</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        /* --- 1. VARIÁVEIS DO PROJETO (SÓ MUDAS ISTO AQUI) --- */
        :root {
            /* MUDAR ESTA COR EM CADA FICHEIRO */
            --project-color: rgba(7, 115, 205, 1); /* Vermelho para Nocturne */
            --project-glow: rgba(15, 75, 124, 1);
        }

        /* --- 2. BASE --- */
        body {
            margin: 0; padding: 0;
            background-color: #050505;
            color: white;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            cursor: none;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--project-color); }

        /* --- 3. UI COMUM (Cursor & Loading) --- */
        .cursor-dot, .cursor-outline {
            position: fixed; top: 0; left: 0; transform: translate(-50%, -50%);
            pointer-events: none; z-index: 9999; border-radius: 50%; mix-blend-mode: difference;
        }
        .cursor-dot { width: 8px; height: 8px; background: var(--project-color); }
        .cursor-outline { width: 40px; height: 40px; border: 1px solid var(--project-color); transition: 0.2s; }
        
        .loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999; display: flex; align-items: center; justify-content: center;
        }
        .loading-bar { width: 0%; height: 2px; background: var(--project-color); box-shadow: 0 0 15px var(--project-color); }

        /* --- 4. HERO SECTION --- */
        .project-hero {
            height: 80vh; width: 100%; position: relative;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            border-bottom: 1px solid #222; overflow: hidden;
        }

        /* Imagem de Fundo com Blur */
        .hero-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            /* AQUI METES A IMAGEM DO PROJETO */
            background-image: url('caminho/para/imagem_nocturne.jpg'); 
            background-size: cover; background-position: center;
            opacity: 0.3; filter: blur(10px) grayscale(50%); z-index: 0;
        }

        .back-btn {
            position: absolute; top: 40px; left: 40px; z-index: 20;
            font-family: 'JetBrains Mono', monospace; text-decoration: none;
            color: #888; font-size: 0.9rem; border: 1px solid #333; padding: 10px 20px;
            background: rgba(0,0,0,0.8); transition: 0.3s;
        }
        .back-btn:hover { color: var(--project-color); border-color: var(--project-color); }

        .hero-content {
            z-index: 2; text-align: center;
        }

        .project-title {
            font-size: 8vw; line-height: 0.9; text-transform: uppercase; margin: 0;
            text-shadow: 0 0 50px var(--project-glow);
        }

        .project-meta {
            font-family: 'JetBrains Mono', monospace; color: var(--project-color);
            margin-top: 20px; letter-spacing: 4px; font-size: 1rem;
        }

        /* --- 5. GRID DE DADOS (STATS) --- */
        .stats-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1px; background: #222; border-bottom: 1px solid #222;
        }
        .stat-item {
            background: #000; padding: 40px 20px; text-align: center;
        }
        .stat-label {
            font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; color: #666; margin-bottom: 10px;
        }
        .stat-value {
            font-family: 'Inter', sans-serif; font-weight: bold; font-size: 1.2rem; color: white;
        }

        /* --- 6. CONTEÚDO PRINCIPAL --- */
        .content-wrapper {
            max-width: 900px; margin: 100px auto; padding: 0 20px;
        }

        .section-title {
            font-family: 'JetBrains Mono', monospace; color: var(--project-color);
            font-size: 1.5rem; margin-bottom: 30px; border-left: 3px solid var(--project-color);
            padding-left: 20px; display: flex; align-items: center; gap: 10px;
        }
        
        .text-block {
            font-size: 1.1rem; line-height: 1.6; color: #ccc; margin-bottom: 60px;
        }

        /* CODE BLOCK (Estilo VS Code) */
        .code-block {
            background: #111; border: 1px solid #333; border-radius: 8px; padding: 20px;
            font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; color: #ddd;
            overflow-x: auto; margin-bottom: 60px; position: relative;
        }
        .code-header {
            position: absolute; top: 0; left: 0; width: 100%; background: #1a1a1a;
            padding: 5px 15px; font-size: 0.7rem; color: #666; border-bottom: 1px solid #333;
            box-sizing: border-box;
        }
        .code-content { margin-top: 25px; line-height: 1.5; }
        .keyword { color: #c678dd; } /* Roxo */
        .function { color: #61afef; } /* Azul */
        .string { color: #98c379; } /* Verde */
        .comment { color: #5c6370; font-style: italic; }

        /* IMAGEM NO MEIO DO TEXTO */
        .project-img {
            width: 100%; border-radius: 10px; margin-bottom: 60px;
            border: 1px solid #333;
        }

        /* --- 7. FOOTER --- */
        .next-project {
            height: 40vh; display: flex; justify-content: center; align-items: center;
            background: #080808; border-top: 1px solid #222; text-decoration: none;
            transition: 0.3s;
        }
        .next-project:hover { background: #111; }
        .next-label {
            font-family: 'JetBrains Mono', monospace; color: #666; font-size: 1rem; margin-bottom: 10px;
        }
        .next-title {
            font-size: 4rem; color: white; margin: 0; text-transform: uppercase;
            transition: 0.3s;
        }
        .next-project:hover .next-title { color: var(--project-color); text-shadow: 0 0 30px var(--project-glow); }

.media-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Duas colunas iguais */
            gap: 20px; /* Espaço entre os vídeos */
            margin-bottom: 60px;
        }

        /* --- VIDEOS PEQUENOS (Grid) --- */
        .project-video {
            width: 100%;
            height: auto;
            border-radius: 10px;
            border: 1px solid #333;
            display: block; 
            cursor: pointer; /* Mostra que é clicável */
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        .project-video:hover {
            transform: scale(1.02); /* Pequeno zoom ao passar o rato */
            border-color: var(--project-color);
            box-shadow: 0 0 20px var(--project-glow);
        }

        /* --- LIGHTBOX (O Popup Gigante) --- */
        .video-lightbox {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 10000; /* Fica por cima de TUDO */
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; /* Escondido inicialmente */
            transition: opacity 0.3s ease;
        }

        /* Quando ativamos a classe 'active', ele aparece */
        .video-lightbox.active { opacity: 1; pointer-events: all; }

        .lightbox-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9); /* Fundo quase preto */
            backdrop-filter: blur(5px);
        }

        .lightbox-content {
            position: relative; z-index: 10001; width: 80%; max-width: 1200px;
            display: flex; flex-direction: column; align-items: flex-end; gap: 10px;
        }

        .lightbox-player {
            width: 100%; height: auto;
            border: 1px solid var(--project-color);
            border-radius: 8px;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        .lightbox-close {
            font-family: 'JetBrains Mono', monospace; color: #666; cursor: pointer;
            font-size: 0.9rem; transition: 0.3s;
        }
        .lightbox-close:hover { color: var(--project-color); }

        /* Estilo para a Imagem dentro do Lightbox */
        .lightbox-image {
            width: 100%; height: auto;
            max-height: 80vh; /* Para não sair do ecrã */
            object-fit: contain;
            border: 1px solid var(--project-color);
            border-radius: 8px;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        /* --- CORREÇÃO FINAL DO CURSOR NO LIGHTBOX --- */
        
        /* Quando o body tem a classe 'lightbox-active' (lightbox aberto) */
        body.lightbox-active .cursor-dot,
        body.lightbox-active .cursor-outline {
            /* 1. Desliga o modo que o torna invisível no preto */
            mix-blend-mode: normal !important; 
            
            /* 2. Força a cor Ciano brilhante para se ver bem */
            background: #00a2ff !important;
            border-color: #155183 !important;
            box-shadow: 0 0 20px #00f0ff; /* Um brilhozinho extra */

            /* 3. Z-Index máximo possível num browser (para ter a certeza absoluta) */
            z-index: 2147483647 !important; 
        }

        /* =========================================
           MOBILE FIXES (Tudo o que é < 768px)
           ========================================= */
        @media (max-width: 768px) {
            
            /* 1. MATA O CURSOR PERSONALIZADO (Telemóvel não tem rato) */
            .cursor-dot, .cursor-outline { display: none !important; }
            * { cursor: auto !important; }
            
            /* 2. AJUSTA O HERO (TEXTO E BONECO) */
            .hero-title {
                font-size: 15vw !important; /* Texto mais pequeno */
                top: 30% !important; /* Sobe o texto para não ficar atrás do boneco */
                width: 90%;
                left: 5%;
                transform: none !important; /* Remove transformações complexas */
                text-align: center;
            }

            .role-badge {
                bottom: 15% !important; /* Sobe a badge */
                font-size: 0.8rem;
                padding: 8px 16px;
            }

            .character-container {
                right: -30% !important; /* Empurra o boneco para a direita */
                width: 120% !important; /* Aumenta para ocupar o fundo */
                opacity: 0.6; /* Um pouco mais transparente para ler o texto */
            }

            /* 3. PROJETOS (AJUSTA OS CARTÕES PARA O TAMANHO DO ECRÃ) */
            .game-card {
                width: 85vw !important; /* Cartão ocupa 85% da largura do telemóvel */
                height: 60vh !important; /* Menos alto */
                margin-right: 15px; /* Menos espaço entre cartões */
            }
            
            .game-info h2 { font-size: 2rem; } /* Título do jogo mais pequeno */

            /* 4. PÁGINAS DE PROJETO (VIDEO CLIPS E TEXTO) */
            .content-wrapper {
                width: 90% !important;
                padding: 20px 0;
            }
            
            .text-block { font-size: 1rem; }

            /* Mete os vídeos um em cima do outro em vez de lado a lado */
            .media-grid {
                grid-template-columns: 1fr !important; 
            }

            /* 5. LIGHTBOX (ZOOM) */
            .lightbox-content {
                width: 95% !important;
            }
            .lightbox-close {
                padding: 15px; /* Área de toque maior para o dedo */
                font-size: 1.2rem;
            }
            
            /* 6. FOOTER (JÁ TINHAS, MAS REFORÇO AQUI) */
            .about-container {
                flex-direction: column !important;
                gap: 30px;
            }
            .about-image-wrapper { width: 150px; height: 150px; }
            
            /* 7. GERAL */
            body { overflow-x: hidden; } /* Impede o site de "abanar" para os lados */
        }

    </style>
</head>
<body>

    <div class="loading-screen"><div class="loading-bar"></div></div>
    <div class="cursor-dot"></div><div class="cursor-outline"></div>

    <div class="project-hero">
        <div class="hero-bg"></div> <a href="index.html" class="back-btn"> < RETURN TO BASE</a>
        
        <div class="hero-content">
            <h1 class="project-title">CYBER<br>ENGINEER</h1>
            <div class="project-meta">MISSION 02 // UNITY</div>
        </div>
    </div>

    <div class="stats-grid">
        <div class="stat-item">
            <div class="stat-label">ROLE</div>
            <div class="stat-value">Gameplay Programmer</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">ENGINE</div>
            <div class="stat-value">Unity</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">LANGUAGE</div>
            <div class="stat-value">C#</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">STATUS</div>
            <div class="stat-value">Released</div>
        </div>
    </div>

    <div class="content-wrapper">
        
        <div class="section-title">01. OVERVIEW</div>
        <div class="text-block">
            Cyber Engineer is a action roguelike top-down where players control a Engineer who must fight his own creations.
            My main responsibility was implementing the <strong>Upgrade System</strong> and <strong> Spawn Multiple Enemy AI</strong>
            to ensure a balanced and engaging gameplay experience.     
        </div>

        <div class="media-grid">
            <img src="CyberEngineer/CyberEngineer (3).gif" class="project-video" alt="Gameplay Clip 1">
            
            <img src="CyberEngineer/CyberEngineer (4).gif" class="project-video" alt="Gameplay Clip 2">
        </div>

        <div class="section-title">02. TECHNICAL CHALLENGE: UPGRADE SYSTEM</div>
        <div class="text-block">
            Implemented a system where, whenever the player levels up, three cards appear, each representing a different upgrade class. 
            The available classes are: Character, Weapon and Gadgets. I organized all the upgrades in a main array and used auxiliary lists to control the 
            upgrades still available in each class and type.
        </div>

                <div class="section-title">02. TECHNICAL CHALLENGE: SPAWN MULTIPLE ENEMY AI</div>
        <div class="text-block">
            Implemented a system where, over 20 waves, only specific enemy types appear in certain phases.
            I created a dedicated method to update the current wave settings, where I define which enemies should be included or excluded based on the wave.
            The logic uses simple conditions to decide what enemy type to spawn, and also sets maximum limits per type, ensuring diversity and difficulty control. 
            The spawn location is calculated based on the player's position, but always within a safe distance and within the allowed zone.
        </div>

<div class="code-block">
            <div class="code-header">UpgradeSystem.c#</div>
            
            <div class="code-content" style="white-space: pre-wrap;">
<span class="keyword">public class Upgrades :</span>(<span class="function">MonoBehaviour</span>(I, E)
    <span class="comment">-- Calls the Upgrade's when max Xp</span>
    <span class="keyword">public void</span> CharacterUpgradeChosen(string CharacterUpgrade_chosen) 
        <span class="keyword">if</span> (CharacterUpgrade_chosen == "BeefCake") 
            characterController_script.maxHealth = <span class="function">(int)</span>(<span class="string">(maxHealth * 1.30f)</span>)
            <span class="function">RemoveUniqueCharacterUpgrades()</span>
            <span class="function">UnpauseGame()</span> 
            </div>
        </div>

    </div> <a href="savestate.html" class="next-project">
        <div style="text-align: center;">
            <div class="next-label">NEXT MISSION</div>
            <h2 class="next-title">SAVE STATE. ></h2>
        </div>
    </a>

    <div class="video-lightbox">
        <div class="lightbox-bg"></div>
        <div class="lightbox-content">
            <video class="lightbox-player" controls autoplay style="display: none;">
                <source src="" type="video/mp4">
            </video>
            
            <img class="lightbox-image" src="" alt="Zoom" style="display: none;">
            
            <div class="lightbox-close">CLOSE FEED [X]</div>
        </div>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // LOADING
        const loadingBar = document.querySelector('.loading-bar');
        const loadingScreen = document.querySelector('.loading-screen');
        gsap.to(loadingBar, { width: "100%", duration: 1, ease: "power2.inOut", onComplete: () => {
            gsap.to(loadingScreen, { opacity: 0, duration: 0.5, onComplete: () => loadingScreen.remove() });
        }});

        // CURSOR
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        window.addEventListener("mousemove", (e) => {
            cursorDot.style.left = `${e.clientX}px`;
            cursorDot.style.top = `${e.clientY}px`;
            cursorOutline.animate({ left: `${e.clientX}px`, top: `${e.clientY}px` }, { duration: 500, fill: "forwards" });
        });

        // ANIMATIONS
        gsap.from(".project-title", { y: 100, opacity: 0, duration: 1, delay: 0.5 });
        gsap.from(".stat-item", { y: 20, opacity: 0, duration: 0.5, stagger: 0.1, delay: 0.8 });
        
        gsap.utils.toArray(".section-title").forEach(title => {
            gsap.from(title, {
                scrollTrigger: { trigger: title, start: "top 80%" },
                x: -50, opacity: 0, duration: 0.8
            });
        });

// --- LIGHTBOX INTELIGENTE (GIF + MP4) ---
        const lightbox = document.querySelector('.video-lightbox');
        const lightboxPlayer = document.querySelector('.lightbox-player'); // O elemento <video>
        const lightboxImage = document.querySelector('.lightbox-image');   // O elemento <img>
        const lightboxBg = document.querySelector('.lightbox-bg');
        const lightboxClose = document.querySelector('.lightbox-close');
        
        // Seleciona tudo o que tiver a classe .project-video (seja img ou video)
        const gridItems = document.querySelectorAll('.project-video');

        gridItems.forEach(item => {
            item.addEventListener('click', function() {
                const isVideo = this.tagName === 'VIDEO'; // Verifica se é vídeo
                
                // Limpa os displays anteriores
                lightboxPlayer.style.display = "none";
                lightboxImage.style.display = "none";
                lightbox.classList.add('active');


                document.body.classList.add('lightbox-active');

                if (isVideo) {
                    // SE FOR VÍDEO (.mp4)
                    const source = this.querySelector('source').src;
                    lightboxPlayer.src = source;
                    lightboxPlayer.style.display = "block";
                    lightboxPlayer.muted = false; 
                    lightboxPlayer.play();
                } else {
                    // SE FOR IMAGEM (.gif, .jpg)
                    const source = this.src;
                    lightboxImage.src = source;
                    lightboxImage.style.display = "block";
                }
            });
        });

        function closeLightbox() {
            lightbox.classList.remove('active');
            // Pausa o vídeo se estiver a tocar
            document.body.classList.remove('lightbox-active');
            lightboxPlayer.pause();
            lightboxPlayer.src = "";
            lightboxImage.src = "";
        }

        lightboxBg.addEventListener('click', closeLightbox);
        lightboxClose.addEventListener('click', closeLightbox);
    </script>
</body>
</html>